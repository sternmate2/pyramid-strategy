<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Stock Trading Platform</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="trading-platform">
        <!-- Top Header Section -->
        <header class="platform-header">
            <div class="header-left">
                <div class="exchange-status">
                    <span class="status-indicator active"></span>
                    <span class="status-text">NYSEArca - Delayed Quote - USD</span>
                </div>
                <h1 id="instrument-name" class="instrument-name">SPDR S&P 500 ETF (SPY)</h1>
                <div class="price-display">
                    <div id="current-price" class="current-price">645.05</div>
                    <div id="price-change" class="price-change">
                        <span class="change-amount negative">-3.87</span>
                        <span class="change-percent negative">(-0.60%)</span>
                    </div>
                    <div id="price-time" class="price-time">At close: August 29 at 4:00:00 PM EDT</div>
                </div>
            </div>
            
            <div class="header-right">
                <button class="follow-btn">
                    <i class="fas fa-star"></i>
                    Follow
                </button>
                <div class="after-hours">
                    <div class="ah-label">After hours</div>
                    <div id="ah-price" class="ah-price">645.01</div>
                    <div class="ah-change negative">-0.04 (-0.01%)</div>
                    <div class="ah-time">After hours: August 29 at 7:59:50 PM EDT</div>
                </div>
            </div>
        </header>

        <!-- Timeframe Selection -->
        <div class="timeframe-section">
            <div class="timeframe-buttons">
                <button class="timeframe-btn" data-timeframe="1d">1D</button>
                <button class="timeframe-btn" data-timeframe="5d">5D</button>
                <button class="timeframe-btn" data-timeframe="1m">1M</button>
                <button class="timeframe-btn" data-timeframe="6m">6M</button>
                <button class="timeframe-btn" data-timeframe="ytd">YTD</button>
                <button class="timeframe-btn active" data-timeframe="1y">1Y</button>
                <button class="timeframe-btn" data-timeframe="5y">5Y</button>
                <button class="timeframe-btn" data-timeframe="all">All</button>
            </div>
            <div id="performance-indicator" class="performance-indicator">
                <span class="performance-value positive">+15.53%</span>
            </div>
        </div>

        <!-- Chart Controls -->
        <div class="chart-controls">
            <div class="control-left">
                <label class="checkbox-label">
                    <input type="checkbox" id="key-events">
                    <span class="checkmark"></span>
                    Key Events
                </label>
            </div>
            <div class="control-right">
                <select id="chart-type" class="chart-type-select">
                    <option value="mountain">Mountain</option>
                    <option value="line">Line</option>
                    <option value="candlestick">Candlestick</option>
                    <option value="bar">Bar</option>
                </select>
                <a href="#" class="advanced-chart-link">
                    <i class="fas fa-cog"></i>
                    Advanced Chart
                </a>
            </div>
        </div>

        <!-- Chart Controls -->
        <div class="chart-controls">
            <button id="price-view-btn" class="chart-control-btn active">Price Chart</button>
            <button id="volume-view-btn" class="chart-control-btn">Volume Analysis</button>
        </div>

        <!-- Main Chart Area -->
        <div class="chart-container">
            <canvas id="price-chart"></canvas>
            <div id="volume-analysis" class="volume-analysis" style="display: none;">
                <div class="volume-header">
                    <h3>Volume Analysis</h3>
                    <div class="volume-controls">
                        <label for="volume-period">Period:</label>
                        <select id="volume-period">
                            <option value="7">7 Days</option>
                            <option value="30" selected>30 Days</option>
                            <option value="90">90 Days</option>
                        </select>
                        <button id="refresh-volume" class="refresh-btn">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                </div>
                <div class="volume-content">
                    <div class="volume-summary">
                        <div class="summary-cards" id="volume-summary-cards">
                            <!-- Volume summary cards will be populated here -->
                        </div>
                    </div>
                    <div class="volume-details">
                        <div class="volume-table-container">
                            <table class="volume-table" id="volume-table">
                                <thead>
                                    <tr>
                                        <th>Symbol</th>
                                        <th>Type</th>
                                        <th>Current Volume</th>
                                        <th>Avg Volume</th>
                                        <th>Volume Trend</th>
                                        <th>Max Volume</th>
                                        <th>Data Points</th>
                                        <th>Last Updated</th>
                                    </tr>
                                </thead>
                                <tbody id="volume-table-body">
                                    <!-- Volume data will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Control Panel -->
        <div class="control-panel">
            <div class="panel-header" id="panel-header">
                <h3>Control Panel</h3>
                <span id="panel-toggle"><i class="fas fa-chevron-up"></i></span>
            </div>
            
            <div id="panel-content" class="panel-content">
                <!-- Symbol Input and Fetch -->
                <div class="input-section">
                    <div class="input-group">
                        <label for="symbol-input">Stock Symbol:</label>
                        <input type="text" id="symbol-input" placeholder="Enter stock symbol (e.g., SPY)" value="SPY">
                        <button id="fetch-btn" class="fetch-btn">Fetch Data</button>
                    </div>
                    
                    <!-- Instrument Dropdown -->
                    <div class="input-group">
                        <label for="instrument-dropdown">Or Select from Available:</label>
                        <select id="instrument-dropdown" class="instrument-dropdown">
                            <option value="">Select Instrument</option>
                            <!-- Options will be populated dynamically -->
                        </select>
                    </div>
                </div>

                <!-- Quick Select Buttons -->
                <div class="quick-select-section">
                    <div id="quickSelectContainer" class="quick-select-container">
                        <!-- Quick select buttons will be generated here -->
                    </div>
                </div>

                <!-- Timeframe and Interval Selection -->
                <div class="selection-section">
                    <div class="select-group">
                        <label for="timeframe">Timeframe:</label>
                        <select id="timeframe">
                            <option value="1d">1 Day</option>
                            <option value="5d">5 Days</option>
                            <option value="1m">1 Month</option>
                            <option value="3m">3 Months</option>
                            <option value="6m">6 Months</option>
                            <option value="1y" selected>1 Year</option>
                            <option value="5y">5 Years</option>
                            <option value="all">All Time</option>
                        </select>
                    </div>
                    
                    <div class="select-group">
                        <label for="interval">Interval:</label>
                        <select id="interval">
                            <option value="1d" selected>Daily</option>
                            <option value="1h">Hourly</option>
                            <option value="15m">15 Minutes</option>
                            <option value="5m">5 Minutes</option>
                            <option value="1m">1 Minute</option>
                        </select>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button id="export-btn" class="action-btn export-btn">
                        <i class="fas fa-download"></i>
                        Export Data
                    </button>
                    <button id="settings-btn" class="action-btn settings-btn">
                        <i class="fas fa-cog"></i>
                        Settings
                    </button>
                </div>
            </div>
        </div>

        <!-- Price Summary -->
        <div id="price-summary" class="price-summary hidden">
            <h3>Price Summary</h3>
            <div class="summary-grid">
                <div class="summary-item">
                    <label>Open:</label>
                    <span id="day-open">--</span>
                </div>
                <div class="summary-item">
                    <label>High:</label>
                    <span id="day-high">--</span>
                </div>
                <div class="summary-item">
                    <label>Low:</label>
                    <span id="day-low">--</span>
                </div>
                <div class="summary-item">
                    <label>Volume:</label>
                    <span id="volume">--</span>
                </div>
            </div>
        </div>

        <!-- Data Table -->
        <div id="data-table" class="data-table hidden">
            <h3>Price Data</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Date/Time</th>
                            <th>Open</th>
                            <th>High</th>
                            <th>Low</th>
                            <th>Close</th>
                            <th>Volume</th>
                        </tr>
                    </thead>
                    <tbody id="table-body">
                        <!-- Data will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Loading Indicator -->
        <div id="loading" class="loading hidden">
            <div class="loading-spinner"></div>
            <span>Loading...</span>
        </div>

        <!-- Error Display -->
        <div id="error" class="error hidden">
            <div class="error-content">
                <span id="error-message">An error occurred</span>
                <button id="error-close" class="error-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
